<?xml version="1.0" encoding="utf-8" ?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <PropertyGroup>
    <_ReportPortal_XUnit_Content_Path>$(MSBuildThisFileDirectory)\_content</_ReportPortal_XUnit_Content_Path>
  </PropertyGroup>

  <!-- This target runs before compilation to include the auto-registration file -->
  <Target Name="_ReportPortalIncludeAutoRegistration" BeforeTargets="CoreCompile">

    <!-- Include the auto-registration file for C# projects -->
    <ItemGroup Condition=" '$(Language)' == 'C#' ">
      <Compile Include="$(_ReportPortal_XUnit_Content_Path)\ReportPortalReporterAutoRegistration.cs" />
    </ItemGroup>

  </Target>

</Project>
